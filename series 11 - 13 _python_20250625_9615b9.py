import nbformat as nbf
from nbformat.v4 import new_markdown_cell, new_notebook

# ایجاد نوت‌بوک جدید
nb = new_notebook()

# افزودن عنوان اصلی
nb.cells.append(new_markdown_cell("""
# سوالات مفهومی و پیشرفته مخابرات
**سری 11 تا 15 - مباحث نظری و کاربردی سیستم‌های مخابراتی**
"""))

# سری 11
nb.cells.append(new_markdown_cell("## سری 11: مقایسه مدولاسیون‌های آنالوگ"))

# سوال 11-1
nb.cells.append(new_markdown_cell("""
### سوال 1: مقایسه FM و AM
مزایا و معایب مدولاسیون FM نسبت به AM را از نظر مقاومت در برابر نویز و پهنای باند توضیح دهید.

**پاسخ:**  
- **مزایای FM:** مقاومت بهتر در برابر نویز (به دلیل ماهیت فرکانسی)، کیفیت صدای بالاتر.  
- **معایب FM:** پهنای باند بیشتر (به دلیل ایجاد هارمونیک‌های جانبی)، پیچیدگی مدارات مدولاتور و دمودولاتور.
"""))

# سوال 11-2
nb.cells.append(new_markdown_cell("""
### سوال 2: فیلتر Hilbert در SSB
چرا در مدولاسیون SSB از فیلتر Hilbert استفاده می‌شود؟

**پاسخ:**  
برای حذف یکی از باندهای جانبی و ایجاد اختلاف فاز ۹۰ درجه بین مؤلفه‌های سیگنال، که امکان استخراج فقط یک باند جانبی (USB یا LSB) را فراهم می‌کند.
"""))

# سوال 11-3
nb.cells.append(new_markdown_cell("""
### سوال 3: Overmodulation در AM
اثر Overmodulation در AM چیست و چگونه تشخیص داده می‌شود؟

**پاسخ:**  
هنگامی که ضریب مدولاسیون (\\( \\mu \\)) از ۱ بیشتر شود، پوش سیگنال AM اعوجاج پیدا می‌کند. در اسکوپ، این حالت به شکل قطع شدن پوش سیگنال دیده می‌شود.
"""))

# سوال 11-4
nb.cells.append(new_markdown_cell("""
### سوال 4: Narrowband vs Wideband FM
تفاوت بین مدولاسیون Narrowband FM و Wideband FM را بیان کنید.

**پاسخ:**  
- **Narrowband FM:** \\( \\beta < 1 \\)، پهنای باند نزدیک به AM (حدود \\( 2f_m \\)).  
- **Wideband FM:** \\( \\beta > 1 \\)، پهنای باند گسترده (حدود \\( 2\\Delta f \\)).
"""))

# سوال 11-5
nb.cells.append(new_markdown_cell("""
### سوال 5: Pre-emphasis و De-emphasis
علت استفاده از Pre-emphasis و De-emphasis در FM چیست؟

**پاسخ:**  
- **Pre-emphasis:** تقویت فرکانس‌های بالا قبل از ارسال برای بهبود SNR.  
- **De-emphasis:** کاهش متناظر فرکانس‌های بالا در گیرنده برای بازگرداندن پاسخ فرکانسی طبیعی.
"""))

# سری 12
nb.cells.append(new_markdown_cell("## سری 12: مباحث دیجیتال و سیستم‌های مدرن"))

# سوال 12-1
nb.cells.append(new_markdown_cell("""
### سوال 1: کاربرد QAM در WiFi
چرا در کاربردهای پرسرعت مانند WiFi از QAM استفاده می‌شود؟

**پاسخ:**  
به دلیل توانایی انتقال چند بیت در هر سمبل (بازده طیفی بالا) و سازگاری با محدودیت پهنای باند.
"""))

# سوال 12-2
nb.cells.append(new_markdown_cell("""
### سوال 2: مزیت DPSK
مزیت اصلی مدولاسیون دیفرانسیلی (DPSK) نسبت به PSK معمولی چیست؟

**پاسخ:**  
عدم نیاز به مرجع فاز در گیرنده، که باعث کاهش پیچیدگی و مقاومت بهتر در برابر تغییرات فاز کانال می‌شود.
"""))

# سوال 12-3
nb.cells.append(new_markdown_cell("""
### سوال 3: زیرحامل‌های OFDM
چرا در سیستم‌های OFDM از چندین زیرحامل متعامد استفاده می‌شود؟

**پاسخ:**  
برای کاهش تداخل بین سمبل‌ها (ISI) در کانال‌های چندمسیره و افزایش بهره‌وری طیفی.
"""))

# سوال 12-4
nb.cells.append(new_markdown_cell("""
### سوال 4: Symbol Rate vs Bit Rate
تفاوت بین Symbol Rate و Bit Rate را توضیح دهید.

**پاسخ:**  
- **Symbol Rate (\\( R_s \\)):** تعداد سمبل‌های ارسالی در ثانیه.  
- **Bit Rate (\\( R_b \\)):** تعداد بیت‌های ارسالی در ثانیه (\\( R_b = R_s \\times \\log_2(M) \\)).
"""))

# سوال 12-5
nb.cells.append(new_markdown_cell("""
### سوال 5: کدینگ گری
علت استفاده از کدینگ گری (Gray Code) در مدولاسیون دیجیتال چیست؟

**پاسخ:**  
برای کاهش خطای بیت، زیرا در Gray Code، سمبل‌های مجاور فقط در یک بیت تفاوت دارند.
"""))

# سری 13
nb.cells.append(new_markdown_cell("## سری 13: چالش‌های مخابراتی"))

# سوال 13-1
nb.cells.append(new_markdown_cell("""
### سوال 1: اثر چندمسیرگی
تأثیر پدیده چندمسیرگی (Multipath) بر عملکرد سیستم‌های دیجیتال را توضیح دهید.

**پاسخ:**  
باعث ایجاد تداخل بین سمبل‌ها (ISI) و کاهش کیفیت سیگنال می‌شود. راه‌حل: استفاده از اکولایزر یا OFDM.
"""))

# سوال 13-2
nb.cells.append(new_markdown_cell("""
### سوال 2: Spread Spectrum
چرا در سیستم‌های مخابراتی از تکنیک Spread Spectrum استفاده می‌شود؟

**پاسخ:**  
برای مقاومت در برابر نویز، تداخل و استراق سمع، و همچنین امکان اشتراک گذاری کانال (CDMA).
"""))

# سوال 13-3
nb.cells.append(new_markdown_cell("""
### سوال 3: نقش PLL در FM
نقش حلقه PLL در دمودولاتور FM چیست؟

**پاسخ:**  
ردیابی تغییرات فرکانس سیگنال ورودی و استخراج سیگنال پیام با استفاده از ولتاژ کنترل VCO.
"""))

# سوال 13-4
nb.cells.append(new_markdown_cell("""
### سوال 4: ظرفیت کانال
مفهوم ظرفیت کانال (Channel Capacity) در نظریه شانون را بیان کنید.

**پاسخ:**  
حداکثر نرخ داده بدون خطا در یک کانال نویزی:  
\\[
C = BW \\times \\log_2(1 + \\frac{S}{N})
\\]
"""))

# سوال 13-5
nb.cells.append(new_markdown_cell("""
### سوال 5: BER vs SER
تفاوت بین BER و SER را توضیح دهید.

**پاسخ:**  
- **BER (Bit Error Rate):** نسبت بیت‌های دریافت شده اشتباه به کل بیت‌ها.  
- **SER (Symbol Error Rate):** نسبت سمبل‌های دریافت شده اشتباه به کل سمبل‌ها.
"""))

# ذخیره فایل
with open('سوالات_مفهومی_مخابرات.ipynb', 'w', encoding='utf-8') as f:
    nbf.write(nb, f)

print("فایل Jupyter Notebook با موفقیت ایجاد شد!")